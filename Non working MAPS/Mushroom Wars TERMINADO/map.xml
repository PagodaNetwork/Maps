<?xml version="1.0"?>
<map proto="1.3.6">
	<name>Mushroom Wars</name>
	<version>1.0.0</version>
	<objective>
		Retrieve the wool from the enemy's side and place it on your team's monument
	</objective>
	<authors>
		<author>MeicGamer</author>
		<author>Redos_13</author>
	</authors>
	<contributors>
		<contributor contribution="Decoration">ElKolorawo</contributor>
	</contributors>
	<include src="tutorial.xml"/>
<tutorial>
    <stage title="Capture the Wool">
        <message>
            <line>This map is a Capture the Wool (CTW) map</line>
            <line>The objective is to grab the wool on the other team's side and return it to your base.</line>
        </message>
        <teleport>
            <point yaw="-180">204,7,319</point>
        </teleport>
    </stage>
    <stage title="Blue Team Base">
        <message>
            <line>This is the Blue Team base. You spawn with gear ready to go into battle!</line>
        </message>
        <teleport>
            <point yaw="150">246,5,282</point>
        </teleport>
    </stage>
    <stage title="Red Wool Rooms">
        <message>
            <line>These are Red Team's wool rooms housing yellow and brown</line>
            <line>Blue Team has magenta and green wools.</line>
            <line>Red Team should defend these rooms against Blue Team invaders who are trying to steal the wool and make it back alive.</line>
            <line>There are special goodies inside that will help you fight your way out.</line>
        </message>
        <teleport>
            <point yaw="-107" pitch="-122">144,6,282</point>
        </teleport>
    </stage>
    <stage title="Victory Monument">
        <message>
            <line>These are the Blue Team's victory monuments.</line>
            <line>The two wools from the Red Team's wool rooms must be placed in the victory monuments for the match to end.</line>
            <line>Note that Red Team has two identical victory monuments for their respective wools.</line>
        </message>
        <teleport>
            <point yaw="0">153,6,254</point>
        </teleport>
    </stage>
</tutorial>

	<teams>
		<team color="blue" max="16">Blue Team</team>
		<team color="dark red" max="16">Red Team</team>
	</teams>
	<spawns>
		<spawns kit="blue">
			<spawn team="blue" kit="blue" yaw="-90">
				<block>267,5,250</block>
			</spawn>
	    </spawns>
		<spawns kit="red">
			<spawn team="red" kit="red" yaw="90">
				<block>147,5,250</block>
			</spawn>
		</spawns>
		<default yaw="0">
			<block>207,56,250</block>
		</default>
	</spawns>
	<kits>
		<kit name="spawn">
			<item slot="0">iron sword</item>
			<item slot="1">bow</item>
			<item slot="2" enchantment="durability:2;dig speed:1">iron pickaxe</item>
			<item slot="3" enchantment="durability:1;dig speed:1">iron axe</item>
			<item slot="4" amount="32">jungle wood</item>
			<item slot="5" amount="32">jungle leaves</item>
			<item slot="7" amount="32">baked potato</item>
			<item slot="8" amount="2">golden apple</item>
			<item slot="28" amount="32">arrow</item>
			<potion duration="10" amplifier="3">damage resistance</potion>
		</kit>
		<kit name="red" parents="spawn">
			<chestplate enchantment="protection_enviromental:1" damage="-3000">chain chestplate</chestplate>
			<leggings color="db1818" damage="-3000">leather leggings</leggings>
			<boots color="db1818" damage="-3000">leather boots</boots>
		</kit>
		<kit name="blue" parents="spawn">
			<chestplate enchantment="protection damage:1" damage="-3000">chain chestplate</chestplate>
			<leggings color="3c1cd9" damage="-3000">leather leggings</leggings>
			<boots color="3c1cd9" damage="-3000">leather boots</boots>
		</kit>
	</kits>
	<filters>
		<filter name="only-blue" parents="deny-players deny-world">
			<allow>
				<team>blue</team>
			</allow>
		</filter>
		<filter name="only-red" parents="deny-players deny-world">
			<allow>
				<team>red</team>
			</allow>
		</filter>
		<filter name="no-void" parents="allow-all">
			<deny>
				<void/>
			</deny>
		</filter>
	</filters>
	<regions>
		<union name="blue-wool-rooms">
			<rectangle name="yellow-room" min="140,261" max="131,277"/>
			<rectangle name="cyan-room" min="140,223" max="131,239"/>
		</union>
		<apply block="only-blue" use="only-blue">
			<region name="blue-wool-rooms"/>
		</apply>
		<apply enter="only-blue" message="You may not enter your own wool room!">
			<region name="blue-wool-rooms"/>
		</apply>
		<union name="red-wool-rooms">
			<rectangle name="magenta-room" min="274,277" max="283,261"/>
			<rectangle name="green-room" min="274,239" max="283,223"/>
		</union>
		<apply block="only-red" use="only-red">
			<region name="red-wool-rooms"/>
		</apply>
		<apply enter="only-red" message="You may not enter your own wool room!">
			<region name="red-wool-rooms"/>
		</apply>
		<apply block-place="no-void" message="You may not place blocks in the void!">
			<negative>
				<rectangle min="-31,46" max="31,-46"/>
			</negative>
		</apply>
<!--    spawn protection    -->
	<apply block="deny-all" message="You may not break or place blocks in your spawn!">
		<rectangle name="blue-spawn" min="271,247" max="263,253"/>
		<rectangle name="red-spawn" min="143,247" max="151,253"/>
	</apply>
<!--    prevent teams from entering each other's spawns    -->
	<apply enter="only-blue" message="You cannot enter the other team's spawn!">
		<region name="blue-spawn"/>
	</apply>
	<apply enter="only-red" message="You cannnot enter the other team's spawn!">
		<region name="red-spawn"/>
	</apply>
	</regions>
	<toolrepair>
		<tool>iron sword</tool>
		<tool>iron axe</tool>
		<tool>iron pickaxe</tool>
		<tool>bow</tool>
	</toolrepair>
	<itemremove>
		<item>golden apple</item>
		<item>glass</item>
		<item>chain chestplate</item>
		<item>leather leggings</item>
		<item>leather boots</item>
		<item>string</item>
		<item>gold helmet</item>
		<item>gold boots</item>
		<item>water lily</item>
		<item>bucket</item>
		<item>water bucket</item>
		<item>cocoa</item>
		<item>baked potato</item>
	</itemremove>
	<playable>
		<rectangle min="287,219" max="127,281"/>
	</playable>
	<maxbuildheight>30</maxbuildheight>
	<wools>
		<wool team="blue" color="brown">
			<block location="257.5,6,246.5"/>
		</wool>
		<wool team="blue" color="yellow">
			<block location="257.5,6,254.5"/>
		</wool>
		<wool team="red" color="magenta">
			<block location="157.5,6,246.5"/>
		</wool>
		<wool team="red" color="green">
			<block location="157.5,5,254.5"/>
		</wool>
	</wools>
</map>